<?xml version="1.0"?>

<!-- XML namespaces -->
<robot xmlns:xacro="http://ros.org/wiki/xacro">

  <!-- Inertial properties differ slightly for left vs right arm -->
  <xacro:property name="uar_xyz1" value= "0.21398" />
  <xacro:property name="uar_xyz2" value="-0.01621" />
  <xacro:property name="uar_xyz3" value="-0.00020" />
  <xacro:property name="uar_ixx"  value= "0.01537748957" />
  <xacro:property name="uar_ixy"  value= "0.00375711247" />
  <xacro:property name="uar_ixz"  value="-0.00070852914" />
  <xacro:property name="uar_iyy"  value= "0.07473670440" />
  <xacro:property name="uar_iyz"  value="-0.00017936450" />
  <xacro:property name="uar_izz"  value= "0.07608763307" />

  <xacro:property name="ual_xyz1" value= "0.21405" />
  <xacro:property name="ual_xyz2" value= "0.01658" />
  <xacro:property name="ual_xyz3" value="-0.00057" />
  <xacro:property name="ual_ixx"  value= "0.01530603856" />
  <xacro:property name="ual_ixy"  value="-0.00339324862" />
  <xacro:property name="ual_ixz"  value= "0.00060765455" />
  <xacro:property name="ual_iyy"  value= "0.07473694455" />
  <xacro:property name="ual_iyz"  value="-0.00019953729" />
  <xacro:property name="ual_izz"  value= "0.07601594191" />

  <!-- ============================  link  ============================ -->
  <!-- Includes elbow flex, FA roll joints in macros below -->
  <xacro:macro name="koko_end_effector_v0" params="side name">
    <xacro:koko_end_v0 side="${side}" name="${name}"/>
    <xacro:koko_gripper_v0 side="${side}" parent="${name}"/>
  </xacro:macro>

  <xacro:macro name="koko_end_v0" params="side name">
    <link
      name="${side}_${name}">
      <inertial>
        <origin
          xyz="0.00526385736219506 2.70691865020822E-05 -0.0641638075944594"
          rpy="0 0 0" />
        <mass
          value="1.92367945216034" />
        <inertia
          ixx="0.0057866591250737"
          ixy="3.71515699629511E-07"
          ixz="-6.32890111626103E-05"
          iyy="0.00530223654324281"
          iyz="8.9999884666805E-07"
          izz="0.00342399181200673" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://koko_description_sevendof/meshes/wrist_roll_link.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="1 1 1 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://koko_description_sevendof/meshes/wrist_roll_link.STL" />
        </geometry>
      </collision>
    </link>
  </xacro:macro>

  <xacro:macro name="koko_gripper_v0" params="side parent">
    <link
      name="${side}_gripper_link">
      <inertial>
        <origin
          xyz="-7.00549073506807E-05 2.51271935254316E-05 -0.052367118189184"
          rpy="0 0 0" />
        <mass
          value="0.0047109755986862" />
        <inertia
          ixx="0.000916887873826385"
          ixy="-6.04547948818479E-08"
          ixz="0.6796133363069E-06"
          iyy="0.000877268801166351"
          iyz="0.64172907801915E-07"
          izz="0.000293333065172452" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://koko_description_sevendof/meshes/wrist_roll_link.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://koko_description_sevendof/meshes/wrist_roll_link.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="${side}_gripper_joint"
      type="revolute">
      <origin
        xyz="0 0.070147 -6.25E-05"
        rpy="-1.5708 -2.4803E-15 -3.1416" />
      <parent
        link="${side}_${parent}" />
      <child
        link="${side}_gripper_link" />
      <axis
        xyz="0 0 1" />
      <limit
        lower="-2.6761"
        upper="2.6761"
        effort="0"
        velocity="0" />
    </joint>
  </xacro:macro>
</robot>
